# IWNO5: Взаимодействие контейнеров

## Цель работы

Выполнив данную работу студент сможет управлять взаимодействием нескольких контейнеров.

## Задание

Создать php приложение на базе двух контейнеров: nginx, php-fpm.

### Выполнение: 

1.Создайте сеть internal для контейнеров.

docker network create internal

Запуск контейнера backend:

docker run -d --name backend --network internal -v ./mounts/site:/var/www/html php:7.4-fpm

Запуск контейнера frontend:

docker run -d --name frontend --network internal -p 80:80 -v ./mounts/site:/var/www/html -v ./nginx/default.conf:/etc/nginx/conf.d/default.conf nginx:1.23-alpine

![alt text](image.png)

Ответьте на вопросы:

1.Каким образом в данном примере контейнеры могут взаимодействовать друг с другом?

В рамках сети internal, контейнеры могут взаимодействовать друг с другом посредством сетевого стека Docker.

2.Как видят контейнеры друг друга в рамках сети internal?

Контейнеры видят друг друга в рамках сети internal по их именам, то есть контейнер backend и frontend могут взаимодействовать друг с другом по их именам.

3.Почему необходимо было переопределять конфигурацию nginx?

По умолчанию конфигурация Nginx не знает о вашем PHP-приложении и требует настройки для правильной обработки запросов к нему. Поэтому вы переопределили конфигурацию Nginx, чтобы указать, что запросы на веб-сервер должны обрабатываться PHP-сервером внутри контейнера backend.

### Вывод:

Монтирование папок и создание сети в контейнерах Docker необходимы для обеспечения доступа к внешним ресурсам хостовой системы и управления коммуникацией между контейнерами, обеспечивая таким образом гибкость и изолированность в рабочей среде.